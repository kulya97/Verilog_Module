This code of spi master controler is finished by changing SPI Master Core which written by Simon Srot.
spi.pdf is downloaded from www.opencores.org and gives the specification of
the controler,but the code is changed for the use of APB bus. 
